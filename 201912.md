## 2019-12-11

### Decorator & Closure

#### 1. 파이썬 변수 범위

```python
def func(num):
    print(num)
    print(number)

func(5)
```

-   예외발생 (number 존재하지 않음)

---

```python
number = 10
def func(num):
    print(num)
    print(number)

func(5)
```

---

```python
number = 10
def func(num):
    print(num)
    print(number)
    number = 10

func(10)
```

-   예외발생 : 같은 변수가 있는 경우 local 변수 먼저 할당

---

```python
from dis import dis
print(dis(func))
```

-   확인
-   dis : bytecode의 흐름을 알 수 있도록 해줌

---

#### 2. 클로저 (Closer)

-   반환되는 내부 함수에 대해서 선언 된 연결을 가지고 참조하는 방식
-   반환 당시 함수 유효번위를 벗어난 변수 또는 메소드에 직접 접근이 가능

##### 1. 결과 누적 방법

`1. 함수`

```python
sum(range(1,51))
```

`2. 클래스`

```python
class Averager():
    def __init__(self):
        self._series = list()

    def __call__(self, v):
        self._series.append(v)
        print(f'{self._series} / {len(self._series)}')
        return sum(self._series) / len(self._series)

```
